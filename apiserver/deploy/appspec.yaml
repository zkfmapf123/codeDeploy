applicationName: 'poc-cd-app'
deploymentGroupName: 'bluegreen-deploy'
revision:
  revisionType: AppSpecContent
  appSpecContent:
    content: |
      version: 0
      Resources:
        - TargetService:
            Type: AWS::ECS::Service
            Properties:
              TaskDefinition: "arn:aws:ecs:ap-northeast-2:182024812696:task-definition/todolist-family:&&BUILD_ID&&"
              LoadBalancerInfo:
                ContainerName: "healthcheck-container-poc"
                ContainerPort: 3000
      Hooks:
        - BeforeInstall: 'arn:aws:lambda:ap-northeast-2:182024812696:function:codedeploy-hooks'
        - AfterInstall: 'arn:aws:lambda:ap-northeast-2:182024812696:function:codedeploy-hooks'
        - AfterAllowTestTraffic: 'arn:aws:lambda:ap-northeast-2:182024812696:function:codedeploy-hooks'
        - BeforeAllowTraffic: 'arn:aws:lambda:ap-northeast-2:182024812696:function:codedeploy-hooks'
        - AfterAllowTraffic: 'arn:aws:lambda:ap-northeast-2:182024812696:function:codedeploy-hooks'
